<?php
/**
*Template name: Цены
*/
get_header();
?>


<section class="prices">
    <div class="container">
        <h1 class="title"><?php the_title(); ?></h1>
        <div class="prices__tabs">
            <div class="tabs__nav">
                <button class="tabs__btn tabs__btn_active">Разработка сайтов</button>
                <button class="tabs__btn">SEO</button>
                <button class="tabs__btn">SMM</button>
                <button class="tabs__btn">PPC</button>
                <button class="tabs__btn">Брендинг и дизайн</button>
                <button class="tabs__btn">Разработка приложений</button>
                <button class="tabs__btn">Прочие услуги</button>
            </div>
            <div class="tabs__content">
                <div class="tabs__pane tabs__pane_show">
                    <div class="tabs__pane__item">
                        <a class="toggle" href="javascript:void(0);">
                            <div class="tabs__pane__name">
                                Cоздание сайтов “под ключ”
                                <svg viewBox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 1l6 6 6-6" stroke="#0E0F11" stroke-width="2" stroke-linecap="round" />
                                </svg>
                            </div>
                            <div class="tabs__pane__info">
                                <p class="price">от 30 000 ₽</p>
                                <button class="button">Подробнее</button>
                            </div>
                        </a>
                        <div class="inner">
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tabs__pane__item">
                        <a class="toggle" href="javascript:void(0);">
                            <div class="tabs__pane__name">
                                Разработка программного модуля для сайта
                                <svg viewBox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 1l6 6 6-6" stroke="#0E0F11" stroke-width="2" stroke-linecap="round" />
                                </svg>
                            </div>
                            <div class="tabs__pane__info">
                                <p class="price">от 4 000 ₽</p>
                                <button class="button">Подробнее</button>
                            </div>
                        </a>
                        <div class="inner">
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tabs__pane__item">
                        <a class="toggle" href="javascript:void(0);">
                            <div class="tabs__pane__name">
                                Готовые сайты
                                <svg viewBox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 1l6 6 6-6" stroke="#0E0F11" stroke-width="2" stroke-linecap="round" />
                                </svg>
                            </div>
                            <div class="tabs__pane__info">
                                <p class="price">от 20 000 ₽</p>
                                <button class="button">Подробнее</button>
                            </div>
                        </a>
                        <div class="inner">
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tabs__pane__item">
                        <a class="toggle" href="javascript:void(0);">
                            <div class="tabs__pane__name">
                                Лицензирование
                                <svg viewBox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 1l6 6 6-6" stroke="#0E0F11" stroke-width="2" stroke-linecap="round" />
                                </svg>
                            </div>
                            <div class="tabs__pane__info">
                                <p class="price">от 10 000 ₽</p>
                                <button class="button">Подробнее</button>
                            </div>
                        </a>
                        <div class="inner">
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                            <div class="inner__item">
                                <div class="tabs__pane__name">
                                    Лендинг пейдж (Landing Page)
                                </div>
                                <div class="tabs__pane__info">
                                    <p class="price">от 4 000 ₽</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tabs__pane">
                    Содержимое 2...
                </div>
                <div class="tabs__pane">
                    Содержимое3
                </div>
                <div class="tabs__pane">
                    Содержимое 4
                </div>
                <div class="tabs__pane">
                    Содержимое 5
                </div>
                <div class="tabs__pane">
                    Содержимое 6
                </div>
                <div class="tabs__pane">
                    Содержимое 7
                </div>
            </div>
        </div>
    </div>
</section>




<script>
    class ItcTabs {
        constructor(target, config) {
            const defaultConfig = {};
            this._config = Object.assign(defaultConfig, config);
            this._elTabs = typeof target === 'string' ? document.querySelector(target) : target;
            this._elButtons = this._elTabs.querySelectorAll('.tabs__btn');
            this._elPanes = this._elTabs.querySelectorAll('.tabs__pane');
            this._eventShow = new Event('tab.itc.change');
            this._init();
            this._events();
        }
        _init() {
            this._elTabs.setAttribute('role', 'tablist');
            this._elButtons.forEach((el, index) => {
                el.dataset.index = index;
                el.setAttribute('role', 'tab');
                this._elPanes[index].setAttribute('role', 'tabpanel');
            });
        }
        show(elLinkTarget) {
            const elPaneTarget = this._elPanes[elLinkTarget.dataset.index];
            const elLinkActive = this._elTabs.querySelector('.tabs__btn_active');
            const elPaneShow = this._elTabs.querySelector('.tabs__pane_show');
            if (elLinkTarget === elLinkActive) {
                return;
            }
            elLinkActive ? elLinkActive.classList.remove('tabs__btn_active') : null;
            elPaneShow ? elPaneShow.classList.remove('tabs__pane_show') : null;
            elLinkTarget.classList.add('tabs__btn_active');
            elPaneTarget.classList.add('tabs__pane_show');
            this._elTabs.dispatchEvent(this._eventShow);
            elLinkTarget.focus();
        }
        showByIndex(index) {
            const elLinkTarget = this._elButtons[index];
            elLinkTarget ? this.show(elLinkTarget) : null;
        };
        _events() {
            this._elTabs.addEventListener('click', (e) => {
                const target = e.target.closest('.tabs__btn');
                if (target) {
                    e.preventDefault();
                    this.show(target);
                }
            });
        }
    }

    const elTab = document.querySelector('.prices__tabs');
    // инициализация elTab как табы
    const tab = new ItcTabs(elTab);

    const index = localStorage.getItem('tabs-index');
    index > -1 ? tab.showByIndex(index) : null;

    elTab.addEventListener('tab.itc.change', (e) => {
        const index = elTab.querySelector('.tabs__btn_active').dataset.index;
        localStorage.setItem('tabs-index', index);
    })
</script>


<?php theme_sidebar( 'form' ); ?>

<?php get_footer(); ?>